<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Add Task</title>
    <link rel="icon" type="image/x-icon" href="/assets/icons/joinBlue.svg" media="(prefers-color-scheme: light)"/>
    <link rel="icon" type="image/x-icon" href="/assets/icons/joinWhite.svg" media="(prefers-color-scheme: dark)"/>

    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/styles/sidebar.css">
    <link rel="stylesheet" href="/styles/header.css">
    <link rel="stylesheet" href="/fonts/fonts.css">
    <link rel="stylesheet" href="/styles/add_task.css">

    <script src="/script.js"></script>
    <script src="/scripts/include.js"></script>
    <script src="/scripts/templates.js"></script>
    <script src="/scripts/add_task.js"></script>
</head>

<body onload="initAddTask()">
    <div w3-include-html="header.html"></div>
    <div w3-include-html="sidebar.html"></div>

    <main>
        <h1 class="title">Add Task</h1>

        <form id="addTaskForm">
            <div>
                <label for="addTaskTitle">
                    Title
                    <span class="required-star">*</span>
                </label>
                <input id="addTaskTitle" type="text" placeholder="Enter a title" required>

                <label for="addTaskDescription">Description</label>
                <textarea type="text" id="addTaskDescription" maxlength="240"
                    placeholder="Enter a Description"></textarea>

                <label for="addTaskAssignedTo">Assigned to</label>
                <select onfocus="assignedToDropDownMenu()" onfocusout="assignedToDropDownMenu()" id="addTaskAssignedTo" aria-placeholder="Select contacts to assign">
                    <option value="default" selected disabled hidden>Select contacts to assign</option>
                    <option value="">
                        <div class="profile-badge">AS</div>
                        <span>Anja Schulz</span>
                        <!-- <div class="Checkbox-Remember-Me">
                            <input required type="checkbox" name="Remember-me" id="checkbox">
                        </div> -->
                    </option>
                </select>

                <div id="addTaskAssignedToProfiles">
                    <div class="profile-badge">AS</div>
                    <div class="profile-badge">DE</div>
                    <div class="profile-badge">EF</div>
                </div>
            </div>

            <div class="add-task-seperator"></div>

            <div>
                <label for="addTaskDate">
                    Due date
                    <span class="required-star">*</span>
                </label>
                <input form="dd/mm/yyyy" id="addTaskDate" type="date" min="1920-01-01" max="2100-12-31" required>

                <label for="addTaskPriorities">Prio</label>
                <div id="addTaskPriorities">
                    <div id="prioUrgent" onclick="priorityBtnBg('prioUrgent')">
                        Urgent
                        <img id="prioUrgentImg" src="/assets/icons/add-task-prioUrgent.svg">
                    </div>
                    <div id="prioMedium" onclick="priorityBtnBg('prioMedium')">
                        Medium
                        <img id="prioMediumImg" src="/assets/icons/add-task-prioMedium.svg">
                    </div>
                    <div id="prioLow" onclick="priorityBtnBg('prioLow')">
                        Low
                        <img id="prioLowImg" src="/assets/icons/add-task-prioLow.svg">
                    </div>
                </div>

                <label for="addTaskCategory">
                    Category
                    <span class="required-star">*</span>
                </label>
                <select id="addTaskCategory" >
                    <option value="default" selected disabled hidden>Select task category</option>
                    <option value="bug fix">bug fix</option>
                    <option value="documentation">documentation</option>
                    <option value="technical task">technical task</option>
                    <option value="user story">user story</option>
                </select>


                <label for="addTaskSubtask">Subtasks</label>
                <input onfocus="changeSubtaskIcons()" onfocusout="changeSubtaskIcons()" type="text" id="addTaskSubtask" placeholder="Add new subtask">
                <img id="subtaskIconAdd" class="subtask-icon" src="/assets/icons/add-task-subtask-add.svg">
                <div id="subtaskIconsFocus" class="d-none">
                    <img onclick="clearSubtasksInput()" id="subtaskIconReject" class="subtask-icon" src="/assets/icons/add-task-subtask-reject.svg">
                    <img onclick="addSubtaskToList()" id="subtaskIconySubmit" class="subtask-icon" src="/assets/icons/add-task-subtask-submit.svg">
                </div>
                <ul id="addTaskSubtaskList"></ul>
            </div>
        </form>

        <div class="add-task-submit">
            <div class="add-task-requirements">
                <span class="required-star">*</span>
                <p>This field is required</p>
            </div>

            <div class="submit-btns">
                <button onclick="clearTaskForm()" class="cancel-btn" id="contactsOverlayCancel">
                    Cancel
                    <div class="cancel-img"></div>
                </button>
                <button onclick="addTask()" class="create-btn" id="contactsOverlayCreate">
                    Create Task
                    <img src="/assets/icons/create-btn.svg">
                </button>
            </div>
        </div>
    </main>

    <footer></footer>
    <script>includeHTML();</script>
</body>

</html>